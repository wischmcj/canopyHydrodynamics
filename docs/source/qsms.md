
# QSMs

Quantitative Structural Models are 3D models that approximate the structure of trees via cylinders of various radii, orientations and locations in space. These models are particularly useful in the reduction of point cloud data as they preserve high level structural data, but are much more compact and less computationally intensive. The QSM's used in the creation of CanoPyHydro were generated by passing TLS point cloud data through a program called SimpleForest (Hackenberg et al., 2021) to  generate .csv files.

![(left to right) A point clound redering, a SimpleForest rendering of the related QSM, a canoPyHydro coloring of said QSM](canHydro_PC_QSM_Plot.png)
<!-- { width=20% } -->

Note that QSMs are simply collections of cylinders at the most basic level, but they often are presented with a variety of allometric data points that describe the location of cylinders in relation to others within the same tree. Details on these data points can be found in the cited paper, but those used most frequently here are:
  - x1, y1, z1, x2, y2 and z2
    - Together these define a 3d line through the center of the cylinder
  - Radius and length
    - Using these, we may generate a wide variety of geometric data points
      - i.e. surfae area, 2D projected areas
  - Cylinder ID, Parent ID
    - The closest cylinder to the ground is assigned ID 0, parentID -1
    - Each cylinder is assigned a unique ID, starting from 0 and moving up
    - A cylinder's parentID is that of the cylinder adjacent to it in the direction of the stem
  - Segment ID
    - Cylinders are grouped into segments, representing homogeneous sections of the tree*
  - Branch ID
    - Segments are grouped into branches, representing sections of the tree with similar radii*
  - Branch Order
    - Refers to the degrees of separation of cylinder's branch to the trunk.*

  *A more technical explanation can be found on the [SimpleForest](https://www.simpleforest.org/pages/tutorials.html) website
